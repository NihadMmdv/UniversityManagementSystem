--
-- PostgreSQL database dump
--

\restrict kWKfbtYaIj1weD7bIMidbcQanCpjatcH7melsj0LABZkcoWLwrlqkkHVP2wXpcE

-- Dumped from database version 18.1
-- Dumped by pg_dump version 18.1

-- Started on 2026-02-13 13:05:27

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

DROP DATABASE "UMSDB";
--
-- TOC entry 5127 (class 1262 OID 16387)
-- Name: UMSDB; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE "UMSDB" WITH TEMPLATE = template0 ENCODING = 'UTF8' LOCALE_PROVIDER = libc LOCALE = 'English_United States.1252';


ALTER DATABASE "UMSDB" OWNER TO postgres;

\unrestrict kWKfbtYaIj1weD7bIMidbcQanCpjatcH7melsj0LABZkcoWLwrlqkkHVP2wXpcE
\connect "UMSDB"
\restrict kWKfbtYaIj1weD7bIMidbcQanCpjatcH7melsj0LABZkcoWLwrlqkkHVP2wXpcE

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 227 (class 1259 OID 16479)
-- Name: Exams; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Exams" (
    "Id" integer NOT NULL,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "DeletedTime" timestamp with time zone,
    "StudentId" integer DEFAULT 0,
    "ExamDate" date DEFAULT '-infinity'::date NOT NULL,
    "Score" integer DEFAULT 0 NOT NULL,
    "LessonId" integer DEFAULT 0 NOT NULL
);


ALTER TABLE public."Exams" OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16478)
-- Name: Exams_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Exams" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Exams_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 230 (class 1259 OID 16687)
-- Name: LessonSection; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."LessonSection" (
    "LessonsId" integer NOT NULL,
    "SectionsId" integer NOT NULL
);


ALTER TABLE public."LessonSection" OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 16462)
-- Name: Lessons; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Lessons" (
    "Id" integer NOT NULL,
    "Name" text NOT NULL,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "DeletedTime" timestamp with time zone
);


ALTER TABLE public."Lessons" OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 16461)
-- Name: Lessons_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Lessons" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Lessons_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 236 (class 1259 OID 16867)
-- Name: ScheduleTeacher; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."ScheduleTeacher" (
    "ScheduleId" integer NOT NULL,
    "TeachersId" integer NOT NULL
);


ALTER TABLE public."ScheduleTeacher" OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 16843)
-- Name: Schedules; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Schedules" (
    "Id" integer NOT NULL,
    "LessonId" integer NOT NULL,
    "SectionId" integer NOT NULL,
    "DayOfWeek" integer NOT NULL,
    "StartTime" time without time zone NOT NULL,
    "EndTime" time without time zone NOT NULL,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "DeletedTime" timestamp with time zone
);


ALTER TABLE public."Schedules" OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 16842)
-- Name: Schedules_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Schedules" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Schedules_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 16534)
-- Name: Sections; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Sections" (
    "Id" integer NOT NULL,
    "Name" text NOT NULL,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "DeletedTime" timestamp with time zone,
    "StudentIds" integer[] DEFAULT '{}'::integer[] NOT NULL
);


ALTER TABLE public."Sections" OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 16533)
-- Name: Sections_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Sections" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Sections_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 16423)
-- Name: Students; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Students" (
    "Id" integer NOT NULL,
    "SectionId" integer,
    "EnrollmentDate" date NOT NULL,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "Name" text NOT NULL,
    "Surname" text NOT NULL,
    "Email" text NOT NULL,
    "Phone" text NOT NULL,
    "PhotoUrl" text DEFAULT '{}'::text[] CONSTRAINT "Students_photoUrl_not_null" NOT NULL,
    "DateOfBirth" date DEFAULT '-infinity'::timestamp with time zone NOT NULL,
    "DeletedTime" timestamp with time zone
);


ALTER TABLE public."Students" OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16422)
-- Name: Students_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Students" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Students_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 16783)
-- Name: TeacherLesson; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."TeacherLesson" (
    "LessonsId" integer NOT NULL,
    "TeachersId" integer NOT NULL
);


ALTER TABLE public."TeacherLesson" OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16407)
-- Name: Teachers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Teachers" (
    "Id" integer NOT NULL,
    "Salary" integer NOT NULL,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "Name" text NOT NULL,
    "Surname" text NOT NULL,
    "Email" text NOT NULL,
    "Phone" text NOT NULL,
    "PhotoUrl" text DEFAULT '{}'::text[] CONSTRAINT "Teachers_photoUrl_not_null" NOT NULL,
    "DateOfBirth" date DEFAULT '-infinity'::timestamp with time zone NOT NULL,
    "DeletedTime" timestamp with time zone
);


ALTER TABLE public."Teachers" OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16406)
-- Name: Teachers_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Teachers" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Teachers_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 233 (class 1259 OID 16812)
-- Name: Users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Users" (
    "Id" integer NOT NULL,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "Role" text NOT NULL,
    "Name" text,
    "LastModifiedTime" timestamp with time zone,
    "IsDeleted" boolean NOT NULL,
    "DeletedTime" timestamp with time zone,
    "StudentId" integer,
    "TeacherId" integer
);


ALTER TABLE public."Users" OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 16811)
-- Name: Users_Id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Users" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Users_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16388)
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO postgres;

--
-- TOC entry 5112 (class 0 OID 16479)
-- Dependencies: 227
-- Data for Name: Exams; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Exams" ("Id", "LastModifiedTime", "IsDeleted", "DeletedTime", "StudentId", "ExamDate", "Score", "LessonId") FROM stdin;
1	2026-02-09 11:43:24.972478+04	f	\N	1	2026-02-09	85	1
2	2026-02-10 11:27:04.656128+04	t	2026-02-10 11:27:04.656127+04	2	2026-02-10	50	2
3	\N	f	\N	12	2026-02-13	76	1
4	\N	f	\N	9	2026-02-13	93	2
\.


--
-- TOC entry 5115 (class 0 OID 16687)
-- Dependencies: 230
-- Data for Name: LessonSection; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."LessonSection" ("LessonsId", "SectionsId") FROM stdin;
1	1
2	2
1	3
2	3
\.


--
-- TOC entry 5110 (class 0 OID 16462)
-- Dependencies: 225
-- Data for Name: Lessons; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Lessons" ("Id", "Name", "LastModifiedTime", "IsDeleted", "DeletedTime") FROM stdin;
2	English	2026-02-11 13:59:26.91362+04	f	\N
1	Mathematics	2026-02-11 14:41:07.916361+04	f	\N
\.


--
-- TOC entry 5121 (class 0 OID 16867)
-- Dependencies: 236
-- Data for Name: ScheduleTeacher; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."ScheduleTeacher" ("ScheduleId", "TeachersId") FROM stdin;
1	3
1	1
2	1
4	3
3	2
\.


--
-- TOC entry 5120 (class 0 OID 16843)
-- Dependencies: 235
-- Data for Name: Schedules; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Schedules" ("Id", "LessonId", "SectionId", "DayOfWeek", "StartTime", "EndTime", "LastModifiedTime", "IsDeleted", "DeletedTime") FROM stdin;
1	1	3	1	14:00:00	15:20:00	2026-02-13 12:54:31.133764+04	f	\N
2	2	2	5	13:00:00	14:30:00	2026-02-13 12:56:39.604978+04	t	2026-02-13 12:56:39.604906+04
4	1	1	3	15:00:00	17:00:00	\N	f	\N
3	2	2	5	13:00:00	14:30:00	2026-02-13 13:03:03.121952+04	f	\N
\.


--
-- TOC entry 5114 (class 0 OID 16534)
-- Dependencies: 229
-- Data for Name: Sections; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Sections" ("Id", "Name", "LastModifiedTime", "IsDeleted", "DeletedTime", "StudentIds") FROM stdin;
1	Section A	2026-02-13 10:31:53.521806+04	f	\N	{}
2	PB501	2026-02-13 11:04:37.774153+04	f	\N	{}
3	564-1	2026-02-13 11:04:46.197614+04	f	\N	{12,1,2,8,7,9,10}
\.


--
-- TOC entry 5108 (class 0 OID 16423)
-- Dependencies: 223
-- Data for Name: Students; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Students" ("Id", "SectionId", "EnrollmentDate", "LastModifiedTime", "IsDeleted", "Name", "Surname", "Email", "Phone", "PhotoUrl", "DateOfBirth", "DeletedTime") FROM stdin;
4	\N	2026-02-10	2026-02-13 10:31:07.456486+04	t	2362436wtewwedegs	strsdgdgsgdsgsding	strisdgsdgsdgng	string	string	2026-02-10	2026-02-10 11:04:43.283569+04
6	\N	2026-02-10	2026-02-13 10:31:07.456486+04	t	sdbhdshds	sgdgsdgssd	string	string	string	2026-02-10	2026-02-10 11:26:01.600943+04
11	\N	2026-02-11	2026-02-13 10:31:07.456486+04	t	Nihad	Mammadov	nyhhat@gmail.com	0703327414	photourlnihadmammadov	2006-08-22	2026-02-11 12:22:20.553567+04
1	3	2023-09-01	2026-02-13 11:04:46.197613+04	f	David	Green	david@example.com	+10000000010	{}	2003-03-15	\N
2	3	2026-02-09	2026-02-13 11:04:46.197613+04	f	string	string	string	string	string	2026-02-09	\N
7	3	2026-02-11	2026-02-13 11:04:46.197613+04	f	John	Nolan	john.doe@example.com	+1-555-123-4567	https://example.com/photos/john-doe.jpg	2000-01-01	\N
8	3	2023-09-01	2026-02-13 11:04:46.197613+04	f	John	Doe	john.doe@example.com	+1-555-123-4567	https://example.com/photos/john-doe.jpg	2000-05-14	\N
9	3	2023-09-01	2026-02-13 11:04:46.197613+04	f	Aylin	Karimova	aylin.karimova@example.com	+994-50-321-8899	https://example.com/photos/aylin-karimova.jpg	1999-11-02	\N
10	3	2024-02-15	2026-02-13 11:04:46.197614+04	f	Michael	Smith	michael.smith@example.com	+44-7700-900123	https://example.com/photos/michael-smith.jpg	2001-02-27	\N
12	3	2026-02-11	2026-02-13 11:04:46.197613+04	f	Nihad	Mammadov	nyhhat@gmail.com	0703327414	photourlnihadmammadov	2006-08-22	\N
\.


--
-- TOC entry 5116 (class 0 OID 16783)
-- Dependencies: 231
-- Data for Name: TeacherLesson; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."TeacherLesson" ("LessonsId", "TeachersId") FROM stdin;
1	1
2	2
1	3
\.


--
-- TOC entry 5106 (class 0 OID 16407)
-- Dependencies: 221
-- Data for Name: Teachers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Teachers" ("Id", "Salary", "LastModifiedTime", "IsDeleted", "Name", "Surname", "Email", "Phone", "PhotoUrl", "DateOfBirth", "DeletedTime") FROM stdin;
2	1250	\N	f	Jane	Doe	janedoe@mail.com	27272458	photourljanedoe	1986-02-10	\N
1	940	2026-02-11 14:40:53.107734+04	f	Betty	Williams	bettywilliams@mail.com	2143552321	photourlbettywilliams	1990-07-10	\N
3	1500	\N	f	Nathan	Ashford	nathanashford@mail.com	4726278321	nathanashfordphotourl	1983-03-05	\N
\.


--
-- TOC entry 5118 (class 0 OID 16812)
-- Dependencies: 233
-- Data for Name: Users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Users" ("Id", "Email", "PasswordHash", "Role", "Name", "LastModifiedTime", "IsDeleted", "DeletedTime", "StudentId", "TeacherId") FROM stdin;
1	admin@ums.com	$2a$11$Kup77Zr2ozjYi5vOqXCnG.8a9lR6xyJBsqPRotKpYmyKdS8FWLFuy	Admin	Admin	\N	f	\N	\N	\N
3	nyhhat@gmail.com	$2a$11$aOnvC4.Ro7tEJImuso7BgeKB.3WGFAIIko8VJ2BubtGuOeZywodb6	Student	Nihad Mammadov	\N	f	\N	12	\N
4	nathanashford@mail.com	$2a$11$lKJladu884uNM98RKKhacu1KctCKsGpCCxIF9hxBYKaj3cHMtOX8G	Teacher	Nathan Ashford	\N	f	\N	\N	3
\.


--
-- TOC entry 5104 (class 0 OID 16388)
-- Dependencies: 219
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20260206083338_Initial	8.0.11
20260206100742_Introduce_foreign_keys_as_ids	8.0.11
20260206101739_Changed_nameclass_to_section	8.0.11
20260206103132_bugfix	8.0.11
20260206123801_datetimeFix	8.0.11
20260209051734_back-to-using-objects-as-fk	8.0.11
20260209055024_fixed_exam_being_baseperson	8.0.11
20260209055400_examDate-fix	8.0.11
20260209055544_examDate-fix-2	8.0.11
20260209055619_examDate-fix-3	8.0.11
20260209055713_exam-score-fix	8.0.11
20260209070233_entitiy-reboot	8.0.11
20260209073044_entity-reboot-2	8.0.11
20260209080521_bugfixing	8.0.11
20260209081022_student-bugfix	8.0.11
20260209083930_lessonSection-table-fix	8.0.11
20260210105057_teacherlesson-manytomany-introduced	8.0.11
20260211063059_User-Roles-added	8.0.11
20260211080239_Adding-student-or-teacher-creates-account-for-them	8.0.11
20260213061454_Students-sectionid-should-be-nullable	8.0.11
20260213071024_students-shouldnt-have-examids	8.0.11
20260213082439_added-schedules	8.0.11
20260213085252_schedules-updated	8.0.11
\.


--
-- TOC entry 5128 (class 0 OID 0)
-- Dependencies: 226
-- Name: Exams_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Exams_Id_seq"', 4, true);


--
-- TOC entry 5129 (class 0 OID 0)
-- Dependencies: 224
-- Name: Lessons_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Lessons_Id_seq"', 2, true);


--
-- TOC entry 5130 (class 0 OID 0)
-- Dependencies: 234
-- Name: Schedules_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Schedules_Id_seq"', 4, true);


--
-- TOC entry 5131 (class 0 OID 0)
-- Dependencies: 228
-- Name: Sections_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Sections_Id_seq"', 3, true);


--
-- TOC entry 5132 (class 0 OID 0)
-- Dependencies: 222
-- Name: Students_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Students_Id_seq"', 12, true);


--
-- TOC entry 5133 (class 0 OID 0)
-- Dependencies: 220
-- Name: Teachers_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Teachers_Id_seq"', 3, true);


--
-- TOC entry 5134 (class 0 OID 0)
-- Dependencies: 232
-- Name: Users_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Users_Id_seq"', 4, true);


--
-- TOC entry 4923 (class 2606 OID 16492)
-- Name: Exams PK_Exams; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Exams"
    ADD CONSTRAINT "PK_Exams" PRIMARY KEY ("Id");


--
-- TOC entry 4928 (class 2606 OID 16693)
-- Name: LessonSection PK_LessonSection; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."LessonSection"
    ADD CONSTRAINT "PK_LessonSection" PRIMARY KEY ("LessonsId", "SectionsId");


--
-- TOC entry 4919 (class 2606 OID 16472)
-- Name: Lessons PK_Lessons; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Lessons"
    ADD CONSTRAINT "PK_Lessons" PRIMARY KEY ("Id");


--
-- TOC entry 4943 (class 2606 OID 16873)
-- Name: ScheduleTeacher PK_ScheduleTeacher; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ScheduleTeacher"
    ADD CONSTRAINT "PK_ScheduleTeacher" PRIMARY KEY ("ScheduleId", "TeachersId");


--
-- TOC entry 4940 (class 2606 OID 16854)
-- Name: Schedules PK_Schedules; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Schedules"
    ADD CONSTRAINT "PK_Schedules" PRIMARY KEY ("Id");


--
-- TOC entry 4925 (class 2606 OID 16546)
-- Name: Sections PK_Sections; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sections"
    ADD CONSTRAINT "PK_Sections" PRIMARY KEY ("Id");


--
-- TOC entry 4917 (class 2606 OID 16438)
-- Name: Students PK_Students; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Students"
    ADD CONSTRAINT "PK_Students" PRIMARY KEY ("Id");


--
-- TOC entry 4931 (class 2606 OID 16789)
-- Name: TeacherLesson PK_TeacherLesson; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TeacherLesson"
    ADD CONSTRAINT "PK_TeacherLesson" PRIMARY KEY ("LessonsId", "TeachersId");


--
-- TOC entry 4914 (class 2606 OID 16421)
-- Name: Teachers PK_Teachers; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Teachers"
    ADD CONSTRAINT "PK_Teachers" PRIMARY KEY ("Id");


--
-- TOC entry 4936 (class 2606 OID 16823)
-- Name: Users PK_Users; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "PK_Users" PRIMARY KEY ("Id");


--
-- TOC entry 4912 (class 2606 OID 16394)
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- TOC entry 4920 (class 1259 OID 16706)
-- Name: IX_Exams_LessonId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Exams_LessonId" ON public."Exams" USING btree ("LessonId");


--
-- TOC entry 4921 (class 1259 OID 16707)
-- Name: IX_Exams_StudentId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Exams_StudentId" ON public."Exams" USING btree ("StudentId");


--
-- TOC entry 4926 (class 1259 OID 16708)
-- Name: IX_LessonSection_SectionsId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_LessonSection_SectionsId" ON public."LessonSection" USING btree ("SectionsId");


--
-- TOC entry 4941 (class 1259 OID 16884)
-- Name: IX_ScheduleTeacher_TeachersId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_ScheduleTeacher_TeachersId" ON public."ScheduleTeacher" USING btree ("TeachersId");


--
-- TOC entry 4937 (class 1259 OID 16865)
-- Name: IX_Schedules_LessonId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Schedules_LessonId" ON public."Schedules" USING btree ("LessonId");


--
-- TOC entry 4938 (class 1259 OID 16866)
-- Name: IX_Schedules_SectionId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Schedules_SectionId" ON public."Schedules" USING btree ("SectionId");


--
-- TOC entry 4915 (class 1259 OID 16704)
-- Name: IX_Students_SectionId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_Students_SectionId" ON public."Students" USING btree ("SectionId");


--
-- TOC entry 4929 (class 1259 OID 16800)
-- Name: IX_TeacherLesson_TeachersId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX "IX_TeacherLesson_TeachersId" ON public."TeacherLesson" USING btree ("TeachersId");


--
-- TOC entry 4932 (class 1259 OID 16824)
-- Name: IX_Users_Email; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IX_Users_Email" ON public."Users" USING btree ("Email");


--
-- TOC entry 4933 (class 1259 OID 16825)
-- Name: IX_Users_StudentId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IX_Users_StudentId" ON public."Users" USING btree ("StudentId");


--
-- TOC entry 4934 (class 1259 OID 16826)
-- Name: IX_Users_TeacherId; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX "IX_Users_TeacherId" ON public."Users" USING btree ("TeacherId");


--
-- TOC entry 4945 (class 2606 OID 16801)
-- Name: Exams FK_Exams_Lessons_LessonId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Exams"
    ADD CONSTRAINT "FK_Exams_Lessons_LessonId" FOREIGN KEY ("LessonId") REFERENCES public."Lessons"("Id") ON DELETE CASCADE;


--
-- TOC entry 4946 (class 2606 OID 16806)
-- Name: Exams FK_Exams_Students_StudentId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Exams"
    ADD CONSTRAINT "FK_Exams_Students_StudentId" FOREIGN KEY ("StudentId") REFERENCES public."Students"("Id") ON DELETE CASCADE;


--
-- TOC entry 4947 (class 2606 OID 16694)
-- Name: LessonSection FK_LessonSection_Lessons_LessonsId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."LessonSection"
    ADD CONSTRAINT "FK_LessonSection_Lessons_LessonsId" FOREIGN KEY ("LessonsId") REFERENCES public."Lessons"("Id") ON DELETE CASCADE;


--
-- TOC entry 4948 (class 2606 OID 16699)
-- Name: LessonSection FK_LessonSection_Sections_SectionsId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."LessonSection"
    ADD CONSTRAINT "FK_LessonSection_Sections_SectionsId" FOREIGN KEY ("SectionsId") REFERENCES public."Sections"("Id") ON DELETE CASCADE;


--
-- TOC entry 4955 (class 2606 OID 16874)
-- Name: ScheduleTeacher FK_ScheduleTeacher_Schedules_ScheduleId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ScheduleTeacher"
    ADD CONSTRAINT "FK_ScheduleTeacher_Schedules_ScheduleId" FOREIGN KEY ("ScheduleId") REFERENCES public."Schedules"("Id") ON DELETE CASCADE;


--
-- TOC entry 4956 (class 2606 OID 16879)
-- Name: ScheduleTeacher FK_ScheduleTeacher_Teachers_TeachersId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."ScheduleTeacher"
    ADD CONSTRAINT "FK_ScheduleTeacher_Teachers_TeachersId" FOREIGN KEY ("TeachersId") REFERENCES public."Teachers"("Id") ON DELETE CASCADE;


--
-- TOC entry 4953 (class 2606 OID 16855)
-- Name: Schedules FK_Schedules_Lessons_LessonId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Schedules"
    ADD CONSTRAINT "FK_Schedules_Lessons_LessonId" FOREIGN KEY ("LessonId") REFERENCES public."Lessons"("Id") ON DELETE CASCADE;


--
-- TOC entry 4954 (class 2606 OID 16860)
-- Name: Schedules FK_Schedules_Sections_SectionId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Schedules"
    ADD CONSTRAINT "FK_Schedules_Sections_SectionId" FOREIGN KEY ("SectionId") REFERENCES public."Sections"("Id") ON DELETE CASCADE;


--
-- TOC entry 4944 (class 2606 OID 16837)
-- Name: Students FK_Students_Sections_SectionId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Students"
    ADD CONSTRAINT "FK_Students_Sections_SectionId" FOREIGN KEY ("SectionId") REFERENCES public."Sections"("Id");


--
-- TOC entry 4949 (class 2606 OID 16790)
-- Name: TeacherLesson FK_TeacherLesson_Lessons_LessonsId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TeacherLesson"
    ADD CONSTRAINT "FK_TeacherLesson_Lessons_LessonsId" FOREIGN KEY ("LessonsId") REFERENCES public."Lessons"("Id") ON DELETE CASCADE;


--
-- TOC entry 4950 (class 2606 OID 16795)
-- Name: TeacherLesson FK_TeacherLesson_Teachers_TeachersId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."TeacherLesson"
    ADD CONSTRAINT "FK_TeacherLesson_Teachers_TeachersId" FOREIGN KEY ("TeachersId") REFERENCES public."Teachers"("Id") ON DELETE CASCADE;


--
-- TOC entry 4951 (class 2606 OID 16827)
-- Name: Users FK_Users_Students_StudentId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "FK_Users_Students_StudentId" FOREIGN KEY ("StudentId") REFERENCES public."Students"("Id") ON DELETE SET NULL;


--
-- TOC entry 4952 (class 2606 OID 16832)
-- Name: Users FK_Users_Teachers_TeacherId; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "FK_Users_Teachers_TeacherId" FOREIGN KEY ("TeacherId") REFERENCES public."Teachers"("Id") ON DELETE SET NULL;


-- Completed on 2026-02-13 13:05:28

--
-- PostgreSQL database dump complete
--

\unrestrict kWKfbtYaIj1weD7bIMidbcQanCpjatcH7melsj0LABZkcoWLwrlqkkHVP2wXpcE

